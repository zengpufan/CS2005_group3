{"ast":null,"code":"export default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Login\",\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    login() {\n      var _this = this;\n      this.$axios.post(\"/api/login\", {\n        username: this.loginForm.username,\n        password: this.loginForm.password\n      }).then(function (response) {\n        // console.log(response.data.status)\n        if (response.data.status === 200) {\n          _this.$message({\n            message: '登录成功',\n            type: 'success'\n          });\n          _this.$store.commit('login', response.data.object);\n          // _this.$router.push({path: '/'})\n          var path = _this.$route.query.redirect;\n          _this.$router.replace({\n            path: path === undefined ? '/' : path\n          });\n        } else {\n          // alert(\"账号或密码错误\")\n          _this.$message({\n            message: '账号或密码错误',\n            type: 'error'\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    toregister() {\n      this.$router.replace('/register');\n    }\n  }\n};","map":{"version":3,"names":["name","data","loginForm","username","password","methods","login","_this","$axios","post","then","response","status","$message","message","type","$store","commit","object","path","$route","query","redirect","$router","replace","undefined","catch","error","console","log","toregister"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <body id=\"poster\">\r\n        <el-form class=\"login-container\" label-position=\"left\"\r\n                 label-width=\"0px\">\r\n            <h3 class=\"login_title\">海外文物知识系统登录</h3>\r\n            <el-form-item>\r\n                <el-input type=\"text\" v-model=\"loginForm.username\"\r\n                          auto-complete=\"off\" placeholder=\"账号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-input type=\"password\" v-model=\"loginForm.password\"\r\n                          auto-complete=\"off\" placeholder=\"密码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item style=\"width: 100%\">\r\n                <el-button type=\"primary\" style=\"width: 100%;background: #505458;border: none\" v-on:click=\"login\">登录\r\n                </el-button>\r\n            </el-form-item>\r\n            <el-form-item style=\"width: 100%\">\r\n                <el-button type=\"primary\" style=\"width: 100%;background: #505458;border: none\" v-on:click=\"toregister\">\r\n                    没有账号？去注册\r\n                </el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        </body>\r\n        <div></div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    // eslint-disable-next-line vue/multi-word-component-names\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: '',\r\n                password: ''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        login() {\r\n            var _this = this\r\n            this.$axios.post(\"/api/login\", {\r\n                username: this.loginForm.username,\r\n                password: this.loginForm.password,\r\n            }).then(function (response) {\r\n                // console.log(response.data.status)\r\n                if (response.data.status === 200) {\r\n                    _this.$message({\r\n                        message: '登录成功',\r\n                        type: 'success'\r\n                    })\r\n                    _this.$store.commit('login', response.data.object)\r\n                    // _this.$router.push({path: '/'})\r\n                    var path = _this.$route.query.redirect\r\n                    _this.$router.replace({path: path === undefined ? '/' : path})\r\n                } else {\r\n                    // alert(\"账号或密码错误\")\r\n                    _this.$message({\r\n                        message: '账号或密码错误',\r\n                        type: 'error'\r\n                    })\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        toregister() {\r\n            this.$router.replace('/register')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n#poster {\r\n    background-image: url(\"../assets/img_1.png\");\r\n    height: 80%;\r\n    width: 100%;\r\n    background-size: cover;\r\n    position: fixed;\r\n}\r\n\r\nbody {\r\n    margin: 0px;\r\n}\r\n\r\n.login-container {\r\n    position: relative;\r\n    border-radius: 15px;\r\n    background-clip: padding-box;\r\n    margin: 90px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n}\r\n\r\n.login_title {\r\n    margin: 0px auto 40px auto;\r\n    text-align: center;\r\n    color: #505458;\r\n}\r\n\r\n</style>\r\n"],"mappings":"AA6BA;EACA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,IAAAC,KAAA;MACA,KAAAC,MAAA,CAAAC,IAAA;QACAN,QAAA,OAAAD,SAAA,CAAAC,QAAA;QACAC,QAAA,OAAAF,SAAA,CAAAE;MACA,GAAAM,IAAA,WAAAC,QAAA;QACA;QACA,IAAAA,QAAA,CAAAV,IAAA,CAAAW,MAAA;UACAL,KAAA,CAAAM,QAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACAR,KAAA,CAAAS,MAAA,CAAAC,MAAA,UAAAN,QAAA,CAAAV,IAAA,CAAAiB,MAAA;UACA;UACA,IAAAC,IAAA,GAAAZ,KAAA,CAAAa,MAAA,CAAAC,KAAA,CAAAC,QAAA;UACAf,KAAA,CAAAgB,OAAA,CAAAC,OAAA;YAAAL,IAAA,EAAAA,IAAA,KAAAM,SAAA,SAAAN;UAAA;QACA;UACA;UACAZ,KAAA,CAAAM,QAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;MACA,GACAW,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IACAG,WAAA;MACA,KAAAP,OAAA,CAAAC,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}